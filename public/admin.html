<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>ARArena ‚Äî Admin Panel</title>
<link href="/css/styles.css" rel="stylesheet"/>
</meta></head>
<body>
<header id="header"></header>
<main class="container">
<h1>Admin Panel</h1>
<!-- <div class="admin-dashboard">
  <div class="dashboard-card" data-section="upload-proof">
    <div class="card-icon">üì§</div>
    <h3>Upload Proof</h3>
    <p>Upload proof images for tournaments and verifications.</p>
  </div>
  <div class="dashboard-card" data-section="create-tournament">
    <div class="card-icon">üèÜ</div>
    <h3>Create Tournament</h3>
    <p>Set up new tournaments with game selection and details.</p>
  </div>
  <div class="dashboard-card" data-section="manage-tournament">
    <div class="card-icon">‚öôÔ∏è</div>
    <h3>Manage Tournament</h3>
    <p>View and manage existing tournaments, registrations, and winners.</p>
  </div>
  <div class="dashboard-card" data-section="user-notifications">
    <div class="card-icon">üîî</div>
    <h3>User Notifications</h3>
    <p>Enable push notifications for users and refresh FCM tokens.</p>
  </div>
</div> -->
    <div class="proof-box" id="upload-proof">
  <h2>Upload Proof Images</h2>
  <form id="proofUploadForm" enctype="multipart/form-data">
    <label for="file-upload" class="custom-file-upload">Choose Files</label>
    <input id="file-upload" type="file" name="proofImages" multiple accept="image/*" required>
    <button type="submit">Upload</button>
  </form>
  <div id="uploadMsg"></div>
</div>

<div class="proof-box" id="user-notifications">
  <h2>Enable User Notifications</h2>
  <p class="small">Help users who don't have FCM tokens to enable push notifications</p>
  <form id="notificationForm" class="form">
    <label>User ID
      <input type="number" id="userIdInput" placeholder="Enter user ID" required>
    </label>
    <button type="submit">Enable Notifications</button>
  </form>
  <div id="notificationMsg"></div>
</div>

<div class="proof-box">
  <h2>Refresh FCM Token</h2>
  <p class="small">Refresh your own FCM token if notifications aren't working</p>
  <button id="refreshTokenBtn" class="btn">Refresh My FCM Token</button>
  <div id="refreshMsg"></div>
</div>


<section class="card" id="create-tournament">
<h2>Create Tournament</h2>
<div class="tabs" style="margin-bottom:12px">
  <button class="btn small" id="tab-ff" data-game="Free Fire">Free Fire</button>
  <button class="btn small secondary" id="tab-pubg" data-game="PUBG">PUBG</button>
  <button class="btn small secondary" id="tab-lone" data-game="LONE WOLF">LONE WOLF</button>
  <button class="btn small secondary" id="tab-clash" data-game="Clash Squad">Clash Squad</button>
  <span class="small" id="gameSelMsg" style="margin-left:8px;color:#93c5fd">Selected: Free Fire</span>
</div>
<form class="form" enctype="multipart/form-data" id="createTournamentForm">
<input type="hidden" name="game" id="gameField" value="Free Fire"/>
<label>Title
          <input name="title" required="" type="text"/>
</label>
<label>Date &amp; Time
          <input name="dateTime" required="" type="datetime-local"/>
</label>
<label>Map
          <input name="map" required="" type="text"/>
</label>
<label>Mode
          <select name="mode" id="modeField" required="">
<option value="Solo">Solo</option>
<option value="Duo">Duo</option>
<option value="Squad">Squad</option>
</select>
<span class="small" id="slotsHint" style="display:block;margin-top:4px;color:#9ca3af">Slots: 48</span>
</label>
<label>Banner Image
          <input accept="image/*" name="banner" type="file"/>
</label>
<label>Payment QR Image
          <input accept="image/*" name="qr" type="file"/>
</label>
<button class="btn" type="submit">Create</button>
<label>Entry Fee (‚Çπ): <input name="fee" placeholder="0" type="number"/></label><label>Prize Pool (‚Çπ): <input name="prizePool" placeholder="0" type="number"/></label><label>1st Prize (‚Çπ): <input name="prize1" placeholder="0" type="number"/></label><label>2nd Prize (‚Çπ): <input name="prize2" placeholder="0" type="number"/></label><label>3rd Prize (‚Çπ): <input name="prize3" placeholder="0" type="number"/></label><label>Room ID: <input name="roomId" type="text"/></label><label>Room Password: <input name="roomPassword" type="text"/></label></form>
<div class="msg" id="createMsg"></div>
</section>
<section class="card" id="manage-tournament">
<h2>Manage Tournaments</h2>
<div class="tabs" style="margin-bottom:12px">
  <button class="btn small" id="tab-list-ff" data-game="Free Fire">Free Fire</button>
  <button class="btn small secondary" id="tab-list-pubg" data-game="PUBG">PUBG</button>
  <button class="btn small secondary" id="tab-list-lone" data-game="LONE WOLF">LONE WOLF</button>
  <button class="btn small secondary" id="tab-list-clash" data-game="Clash Squad">Clash Squad</button>
  <span class="small" id="listGameSelMsg" style="margin-left:8px;color:#93c5fd">Showing: Free Fire</span>
</div>
<div class="grid" id="adminTours"></div>
<div class="msg" id="adminMsg"></div>
</section>

<section class="card" id="manage-videos">
  <h2>Manage Homepage Videos</h2>
  <form id="addVideoForm">
    <label>Title: <input type="text" id="videoTitle" required></label><br>
    <label>Video URL: <input type="url" id="videoUrl" required></label><br>
    <label>Thumbnail URL (leave empty to auto-fetch from YouTube): <input type="url" id="videoThumbnail"></label><br>
    <button type="submit">Add Video</button>
  </form>

  <form id="editVideoForm" style="display: none; margin-top: 20px; border: 1px solid #666; padding: 10px; border-radius: 5px;">
    <input type="hidden" id="editVideoId">
    <label>Title: <input type="text" id="editVideoTitle" required></label><br>
    <label>Video URL: <input type="url" id="editVideoUrl" required></label><br>
    <label>Thumbnail URL (leave empty to auto-fetch from YouTube): <input type="url" id="editVideoThumbnail"></label><br>
    <button type="submit">Save Changes</button>
    <button type="button" onclick="cancelEdit()">Cancel</button>
  </form>

  <div id="videoList" style="margin-top: 20px;"></div>
</section>

<style>
  #videoList .video-item {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    padding: 5px;
    border-radius: 5px;
  }
  #videoList .video-item img {
    width: 100px;
    height: 60px;
    object-fit: cover;
  }
  #videoList .video-item div {
    flex: 1;
  }
</style>
</main>
<footer id="footer"></footer>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-messaging-compat.js"></script>
<script src="/js/api.js"></script>
<script src="/js/header.js"></script>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="/js/admin.js"></script>
<script src="/js/videos.js"></script>
</body>
</html>
